{{ attach_library('sec_styleguide/components_filter') }}
{{ attach_library('sec_styleguide/custom_styles') }}
{{ attach_library('a11y_tabs/a11y_tabs') }}
{% set summary_path = module_path ~ '/templates/partials/p-general-summary.html.twig' %}
{% set external_link = 'target="_blank" rel="noopener noreferrer"' %}

{% set a11y_tabs = [
  {'tab_title':'Components','id':'panel-1', 'selected': 'true'},
  {'tab_title':'Colors','id':'panel-2', 'selected': 'false'},
] %}
{# {% set a11y_tabs = [
  {'tab_title':'Components','id':'panel-1', 'selected': 'true'},
  {'tab_title':'Colors','id':'panel-2', 'selected': 'false'},
  {'tab_title':'Design Tokens','id':'panel-3', 'selected': 'false'},
  {'tab_title':'Utilities','id':'panel-4', 'selected': 'false'},
] %} #}

{% include module_path ~ '/templates/uswds-usa-side-nav.html.twig'  %}
<section class="tabs">

  <div class="tabs__list" role="tablist">
    {% for item in a11y_tabs %}
      <button class="tabs__item tabs__button usa-button" role="tab"
              aria-controls="{{ item.id }}" aria-selected="{{ item.selected }}">
        {{ item.tab_title }}
      </button>
    {% endfor %}
  </div>

  {# Components #}
  <div class="tabs__panel" id="panel-1" role="tabpanel" tab-title="{{ a11y_tabs.0.tab_title | t }}">
    <form class="usa-form clearfix maxw-widescreen" onsubmit="return false">
      <div class="grid-row grid-gap margin-bottom-5" style="align-items: flex-end;">

        <div class="desktop:grid-col-4">
          <label for="filter-input" class="usa-label">
            {{ 'Filter components'|t }}
          </label>
          <input class='usa-input' type="text" id="filter-input" placeholder="Keyword…">
        </div>

        <div class="desktop:grid-col-auto">
          <button type='reset' id="btn-filter-reset" class="usa-button">
            {{ "Reset Filtering"|t }}
          </button>
        </div>
      </div>
    </form>

    <div class="clearfix usa-prose" style="margin-top: 40px;">
      {# Note: Set “data-filter” to the CSS selector for the component’s title element #}
      <ul data-filter="a" style="columns: 3;">
        {% for item in config_data %}
          <li>
            <a href="{{ item.href }}">
              {{ item.title }}
            </a>
          </li>
        {% endfor %}
      </ul>

      {# Card style list #}
      {# <ul class="usa-card-group" data-filter="a" style="columns: 3;">
        {% for item in config_data %}
          <li class="usa-card">
            <div class="usa-card__container">
              <div class="usa-card__header">
                <h2 class="usa-card__heading">
                  <a href="{{ item.href }}" class="usa-link"
                     title="{{ item.title }}">
                    {{ item.title }}
                  </a>
                </h2>
              </div>

              <div class="usa-card__body">
                <p>{{ item.desc }}</p>
              </div>
            </div>
          </li>
        {% endfor %}
      </ul> #}
    </div>
  </div>

  {# Colors #}
  <div class="tabs__panel usa-prose" id="panel-2" role="tabpanel" tab-title="{{ a11y_tabs.1.tab_title | t }}">

    <h2>Background Colors</h2>
    <p>See <a href="https://contrast-grid.eightshapes.com/?version=1.1.0&background-colors=%23FFF%2C%20White%0D%0A%23003864%2C%20Navy%0D%0A%232f64b2%2C%20Blue%0D%0A%23419892%2C%20Teal%0D%0A%23ffc425%2C%20Yellow%0D%0A%23c31632%2C%20Red%0D%0A%236b7882%2C%20Gray%0D%0A%23000%2C%20Black&foreground-colors=%23000%2C%20Black%0D%0A%23FFF%2C%20White%0D%0A%232f64b2%2C%20Blue%0D%0A&es-color-form__tile-size=compact&es-color-form__show-contrast=aaa&es-color-form__show-contrast=aa&es-color-form__show-contrast=aa18">contrast-grid.eightshapes.com</a> for contrast information.</p>
    <p><strong>Note:</strong> Background colors should always have a gradient overlay using the <code>bg-gradient-overlay</code> class.</p>

    <div class="colors">
      <ul class="colors__list" role="list">
        <li class="colors__item">
          <p class="colors__swatch bg-navy bg-gradient-overlay"></p>
          <p class="colors__name">Navy</p>
          <p class="colors__text">Hex: <code>#003864</code></p>
          <p class="colors__text">Sass: <var>$bg-navy</var></p>
          <p class="colors__text">Class: <code>bg-navy</code></p>
        </li>
        <li class="colors__item">
          <p class="colors__swatch bg-blue bg-gradient-overlay"></p>
          <p class="colors__name">Blue</p>
          <p class="colors__text">Hex: <code>#2f64b2</code></p>
          <p class="colors__text">Sass: <var>$bg-blue</var></p>
          <p class="colors__text">Class: <code>bg-blue</code></p>
        </li>
        <li class="colors__item">
          <p class="colors__swatch bg-teal bg-gradient-overlay"></p>
          <p class="colors__name">Teal</p>
          <p class="colors__text">Hex: <code>#419892</code></p>
          <p class="colors__text">Sass: <var>$bg-teal</var></p>
          <p class="colors__text">Class: <code>bg-teal</code></p>
        </li>
        <li class="colors__item">
          <p class="colors__swatch bg-gray bg-gradient-overlay"></p>
          <p class="colors__name">Gray</p>
          <p class="colors__text">Hex: <code>#6b7882</code></p>
          <p class="colors__text">Sass: <var>$bg-gray</var></p>
          <p class="colors__text">Class: <code>bg-gray</code></p>
        </li>
        <li class="colors__item">
          <p class="colors__swatch bg-yellow bg-gradient-overlay"></p>
          <p class="colors__name">Yellow</p>
          <p class="colors__text">Hex: <code>#ffc425</code></p>
          <p class="colors__text">Sass: <var>$bg-yellow</var></p>
          <p class="colors__text">Class: <code>bg-yellow</code></p>
        </li>
        <li class="colors__item">
          <p class="colors__swatch bg-red bg-gradient-overlay"></p>
          <p class="colors__name">Red</p>
          <p class="colors__text">Hex: <code>#c31632</code></p>
          <p class="colors__text">Sass: <var>$bg-red</var></p>
          <p class="colors__text">Class: <code>bg-red</code></p>
        </li>
      </ul>
    </div>

    <hr>

    <h2>Text Colors</h2>

    <div class="colors">
      <ul class="colors__list" role="list">
        <li class="colors__item">
          <p class="colors__name c-default">Black</p>
          <p class="colors__text">Hex: <code>#1b1b1b</code></p>
          <p class="colors__text">Sass: <var>$c-default</var></p>
          <p class="colors__text">Class: <code>c-default</code></p>
        </li>
        <li class="colors__item">
          <p class="colors__name c-blue">Blue</p>
          <p class="colors__text">Hex: <code>#005ea2</code></p>
          <p class="colors__text">Sass: <var>$c-blue</var></p>
          <p class="colors__text">Class: <code>c-blue</code></p>
        </li>
        <li class="colors__item">
          <p class="colors__name c-navy">Navy</p>
          <p class="colors__text">Hex: <code>#003864</code></p>
          <p class="colors__text">Sass: <var>$c-navy</var></p>
          <p class="colors__text">Class: <code>c-navy</code></p>
        </li>
      </ul>
    </div>

    <hr>

    <h2>USWDS Colors</h2>
    <p>See “<a href="https://designsystem.digital.gov/design-tokens/color/system-tokens/">System color tokens</a>” for a full list.</p>

    {# {% for item in colors_yml.project_colors.theme %}
      <h2>{{ item.title }}</h2>

      <ul class="usa-list usa-list--unstyled grid-row grid-gap">
        {% for color in item.colors %}
          <li class="mobile-lg:grid-col-6 tablet:grid-col-4 desktop:grid-col-3 margin-bottom-3">
            <div class="padding-1 border-1px display-flex flex-column height-full">
              <div>
                <div class="{{ color |replace({'theme-color-': "bg-"}) }}" style="width: 100%; height: 100px"></div>
                {% set title = color | replace({ 'theme-color': "", '-': " "}) %}
                <h3 class="margin-bottom-1" style="text-transform: capitalize;">{{- title -}}</h3>
              </div>

              <div style="margin-top: auto">
                <h4 class="margin-bottom-0 margin-top-1">{{ 'CSS usage:'|t }}</h4>
                <div class="font-mono-xs padding-bottom-6">
                  color('{{ color |replace({ 'theme-color-': ""}) }}')
                </div>
              </div>
            </div>
          </li>
        {% endfor %}
      </ul>
      <hr>
    {% endfor %} #}

    {# {% set button_link = module_path ~ '/templates/partials/p-button-link.html.twig' %} #}

    {# {% include button_link with {
      button_title: title,
      button_link: 'https://designsystem.digital.gov/design-tokens/color/overview/',
      button_link_text: 'More about using color on the USWDS web site',
      external_link: 'true',
    } %} #}
  </div>

  {# Design tokens #}
  {# <div class="tabs__panel" id="panel-3" role="tabpanel" tab-title="{{ a11y_tabs.2.tab_title | t }}">
    {% set summary_title = 'Design tokens' %}

    {% include summary_path with {
      summary_title: summary_title,
      summary_text: 'The Design System’s visual design is based on consistent
    palettes of typography,
    spacing units, color, and other discrete elements of style we call design
    tokens.',
      summary_link: 'https://designsystem.digital.gov/design-tokens/',
      summary_link_text: 'More about ' ~ summary_title ~ ' on the USWDS website',
      external_link: external_link,
    } %}
  </div> #}

  {# Utilities #}
  {# <div class="tabs__panel" id="panel-4" role="tabpanel" tab-title="{{ a11y_tabs.3.tab_title | t }}">
    {% set summary_title = 'Utilities' %}

    {% include summary_path with {
      summary_title: summary_title,
      summary_text: 'Utilities are simple HTML classes typically scoped to a
    single CSS property, like border-style or background-color.
    Utilities can be used additively to style an object from scratch or to
    override a style defined in component CSS.',
      summary_link: 'https://designsystem.digital.gov/utilities/',
      summary_link_text: 'More about ' ~ summary_title ~ ' on the USWDS website',
      external_link: external_link,
    } %}
  </div> #}
</section>
